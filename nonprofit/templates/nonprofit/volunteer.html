<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
<!--&lt;!&ndash; Button trigger modal &ndash;&gt;-->
<!--<button data-bs-toggle="modal" data-bs-target="#insertSkill">-->
<!--    insert skill-->
<!--</button>-->

<!--&lt;!&ndash; Insert Skill Modal &ndash;&gt;-->
<!--<div class="modal fade" id="insertSkill" tabindex="-1" aria-labelledby="skilInsertModalLabel" aria-hidden="true">-->
<!--  <div class="modal-dialog">-->
<!--    <div class="modal-content">-->
<!--      <div class="modal-header">-->
<!--        <h1 class="modal-title fs-5" id="skilInsertModalLabel">Insert Skill</h1>-->
<!--        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--      </div>-->
<!--      <div class="modal-body">-->
<!--        <form action="{% url 'nonprofit:insert_skill' %}" method="POST">-->
<!--            {% csrf_token %}-->
<!--            {{ skill_form.as_p }}-->
<!--            <button type="submit" class="btn btn-primary">Insert</button>-->
<!--        </form>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<!--&lt;!&ndash; Insert Volunteer Modal &ndash;&gt;-->
<!--<div class="modal fade" id="insertVolunteer" tabindex="-1" aria-labelledby="volunteerInsertModalLabel" aria-hidden="true">-->
<!--  <div class="modal-dialog">-->
<!--    <div class="modal-content">-->
<!--      <div class="modal-header">-->
<!--        <h1 class="modal-title fs-5" id="volunteerInsertModalLabel">Insert Volunteer</h1>-->
<!--        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--      </div>-->
<!--      <div class="modal-body">-->
<!--        <form action="{% url 'nonprofit:insert_volunteer' %}" method="POST">-->
<!--            {% csrf_token %}-->
<!--            {{ volunteer_form.as_p }}-->
<!--            <button type="submit" class="btn btn-primary">Insert</button>-->
<!--        </form>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<!-- Update Volunteer Modal -->
{% for volunteer in volunteer_list %}
<div class="modal fade" id="updateVolunteer{{ volunteer.id }}" tabindex="-1" aria-labelledby="volunteerUpdateModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="volunteerUpdateModalLabel">Update Volunteer Details</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="{% url 'nonprofit:update_volunteer' volunteer.id %}" method="POST">
                    {% csrf_token %}
                    {{ volunteer_form.as_p }}
                    <!-- Optionally remove or adjust this line to better display the volunteer's ID -->
                    <input type="hidden" name="volunteer_id" value="{{ volunteer.id }}">
                    <button type="submit" class="btn btn-primary">Update</button>
                </form>
            </div>
        </div>
    </div>
</div>

{% endfor %}

<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Skill</th>
        </tr>
    </thead>
    <tbody>
        {% for volunteer in volunteer_list %}
        <tr>
            <td>{{ volunteer.name }}</td>
            <td>{{ volunteer.email }}</td>
            <td>
                {% for skill in volunteer.skills.all %}
                <label>{{ skill }}</label>
                {% endfor %}
            </td>
            <td>
                <button data-bs-toggle="modal" data-bs-target="#updateVolunteer{{ volunteer.id }}">
                    update
                </button>
            </td>
            <td>
                <form action="{% url 'nonprofit:delete' volunteer.id %}" method="POST">
                    {% csrf_token %}
                    <button>delete</button>
                </form>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

<button data-bs-toggle="modal" data-bs-target="#insertVolunteer">
    insert volunteer
</button>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</html>